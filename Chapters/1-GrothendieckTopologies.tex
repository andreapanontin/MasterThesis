\documentclass[../Main]{subfiles}
\begin{document}
\section{Preliminaries}
\subsection{Grothendieck topologies}
The aim of this section is to introduce
the concept of Grothendieck topology on a category,
in order to describe sheaves on such category.
The main ideas behind these construction is that one can reduce
the definition of open coverings to a few formal axioms, traducing
inclusions with arrows in a category and
intersections with fiber products.
It is in fact true that, in $\mathsf{Op}(X)$, the category of open subsets
of the topological space $X$, fiber products correspond to intersections of subsets.


\begin{defn}[Site]
	Let $\mathsf{C}$ be a category. 
	A {\em pretopology} on $\mathsf{C}$ is the assignement, to each object $U \in \mathsf{C}$
	of a collection of sets of arrows $\left\{ U_{ i } \to U \right\}_{ i \in I }$,
	called {\em covering} of $U$, such that the following conditions are satisfied:
	\begin{enumerate}
		\item Given an isomorphism $V \to U$, the set $\left\{ V \to U \right\}$
			is a covering.
		\item Given a covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$
			of $U$ and a morphism $V \to U$, then the fiber products
			$\left\{ U_i \cross_{ U } V \right\}_{i \in I}$ exist
			and the set of projections
			$\left\{ U_i \cross_{ U } V \to V \right\}_{ i \in I }$
			is a covering of $V$.
		\item Given a covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$
			and, for each index $i \in I$, a covering 
			$\left\{ V_{ ij } \to V_i \right\}_{ j \in J_i }$ of $V_i$,
			the set of composite morphisms
			$\left\{ V_{ ij } \to U \right\}_{ i \in I, j \in J_i }$
			is a covering of $U$.
	\end{enumerate}
	A catogory with a Grothendieck pretopology is called a {\em site}.
\end{defn}


\begin{rem}[]
	From properties $2.$ and $3.$ above it follows that, given 
	$\left\{ U_{ i } \to U \right\}_{ i \in I }$ and $\left\{ V_{ i } \to U \right\}_{ j \in J }$,
	two coverings of the same object, then also
	$\left\{ U_{ i } \cross_U V_j \to U \right\}_{ (i,j) \in I \cross J }$
	is a covering of $U$.
\end{rem}

Let's now give some examples.
In particular, in sets or schemes, we will say that a family of morphisms
$\left\{ U_{ i } \to U \right\}_{ i \in I }$ is {\em jointly surjective} iff
the set-theoretic union of the images is $U$.
\begin{ex}\leavevmode\vspace{-.2\baselineskip}
\begin{enumerate}
	\item The {\em site of a topological space}.
		Let $X$ be a topological space, and $\mathsf{Op}(X)$ denote the category of
		open subsets of $X$.
		Then, to each $U \in \mathsf{Op}(X)$, we associate it the family of all
		open coverings of $U$.
		Noting that, for $U_1 \to U$ and $U_2 \to U$, $U_1 \cross_{ U } U_2 = U_1 \cap U_2$,
		one easily checks that this defines a pretopology on $\mathsf{Op}(X)$.


	\item The {\em global classical topology} on $\mathsf{Top}$.
		Given $U \in \mathsf{Top}$, its coverings are all families of jointly surjective
		collections of open embeddings $U_i \to U$.
		Here open embedding means open, continuous, injective map and not
		only the set theoretic inclusion of a subspace.


%	\item The {\em small {\'e}tale site of a scheme}.
%		Let $X$ be a scheme and $X_{\mathrm{ét}}$ be the full subcategory
%		of $\mathsf{Sch}_{ X }$, with objects $U \in X_{\mathrm{ét}}$ s.t.
%		the structure morphism $U \to X$ is étale, of finite presentation.
%		Then a covering of $U \in X_{\mathrm{ét}}$ is a jointly surjective
%		collection of morphisms $U_i \to U$.

\end{enumerate}
Let's now give a couple of examples in $\mathsf{Sch}_{ S }$, for a fixed scheme $S$.
\begin{enumerate}[resume]
	\item The {\em global Zariski topology}.
		A covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$ is a 
		jointly surjective collection of 
		open embeddings.
		

	\item The {\em global étale topology}.
		A covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$ is a 
		jointly surjective collection of 
		étale maps locally of finite presentation.

	\item The {\em fppf topology}.
		A covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$ is a 
		jointly surjective collection of 
		flat maps locally of finite presentation.
		The acronym fppf stands for 
		"fidèlement plat et de présentation finie".
\end{enumerate}
\end{ex}

\begin{prop}[\cite{Vistoli}, \textsection $2.3.2$]\label{prop:Conditionsfpqc}
	Let $f\colon X \to Y$ be a surjective morphism of schemes. The following are equivalent.
\begin{enumerate}
	\item Every quasi-compact open subset of $Y$ is the image of a quasi-compact
		open subset of $X$.
	\item There exists a covering $\left\{ V_i \right\}_{i \in I}$ of $Y$ by open affine 
		subschemes, such that $V_i$ is the image of a quasi-compact
		open subset of $X$, for all $i$.
	\item Given a point $x \in X$, there exists an open neighbourhood $U$ of $x$
		in $X$, such that the image $F(U)$ is open in $Y$ and the restriction
		$\left.f\right|_{U}$ is a quasi-compact morphism of schemes, i.e.
		the inverse image of any quasi-compact open subset of $F(U)$ is
		quasi-compact in $U$.
	\item Given a point $x \in X$, there exista an open neighbourhood $U$ of $x$
		in $X$ such that the image $f(U)$ is open and affine in $Y$.
\end{enumerate}
\end{prop}


\begin{defn}[fpqc morphism]
	An {\em fpqc morphism of schemes} is a faithfully flat morphism
	that satisfies the equivalent conditions of \cref{prop:Conditionsfpqc}.
	Th acronym $fpqc$ stand for "fidèlement plat et quasi-compact".
\end{defn}

\begin{rem}[]
	It can be shown, see \cite{Vistoli}, that on $\mathsf{Sch}_{ S }$, the data
	of coverings $\left\{ U_{ i } \to U \right\}_{ i \in I }$, for each $U \in \mathsf{Sch}_{ S }$,
	s.t. the induced morphism $\coprod_i U_i \to U$ is {\em fpqc},
	is a pretopology on $\mathsf{Sch}_{ S }$.
	This pretopology is called the {\em fpqc topology}.
\end{rem}


\subsection{Sheaves}
The definition of Sheaf on a topological space actually only
depends on the detum of possible open coverings for a given object of
the catogory $\mathsf{Op}(X)$.
Then the introduction of pretopologies allows one to define Sheaves on sites.

\begin{defn}[Sheaf]
	Let $\mathsf{C}$ be a category.
	A {\em presheaf} on $\mathsf{C}$ is just a contravariant functor with
	values in sets:
	\begin{equation*}
	\begin{tikzcd}[row sep = 0ex
		,/tikz/column 1/.append style={anchor=base east}
		,/tikz/column 2/.append style={anchor=base west}]
		F\colon \mathsf{C}^{op} \arrow[r, "", rightarrow] &
		\mathsf{Sets}
	.\end{tikzcd}
	\end{equation*} 
	If, moreover, $\mathsf{C}$ is a {\em site}, i.e. it is given a pretopology,
	we say that
\begin{enumerate}
	\item $F$ is {\em separated} iff, given a covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$
		and two sections $a,b \in F(U)$ whose pullbacks to each $F(U_i)$ coincide,
		then $a = b$;
	\item $F$ is a {\em sheaf} iff it satisfies the following condition.
		Consider any $U \in \mathsf{C}$, any covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$
		of $U$ in $\mathsf{C}$ and any family $\left\{ a_i \right\}_{i \in I}$ s.t.
		$a_i \in F(U_i)$.
		Denote by 
		\begin{equation*}
		\mathrm{pr}^{i,j}_k\colon U_{i_1} \cross_{ U } U_{i_2} \to U_{i_k}
		\end{equation*} 
		the projection on the $k$-th component.
		Assume that $(\mathrm{pr}^{i,j}_1)^* a_i = 
		(\mathrm{pr}^{i,j}_2)^* a_j \in F( U_i \cross_{ U } U_j )$
		for all $i, j$, then there exists a unique section $a \in F(U)$
		whose pullback to $F(U_i)$ is $a_i$ for all $i \in I$.
\end{enumerate}
\end{defn}
Notice that any {\em sheaf} on $\mathsf{C}$ is also separated.


\begin{rem}[]
	Let's give an equivalent definition of sheaf, for a functor 
	$F\colon \mathsf{C}^{op} \to \mathsf{Sets}$, on a site $\mathsf{C}$.
	Choose $U \in \mathsf{C}$ and a covering $\left\{ U_{ i } \to U \right\}_{ i \in I }$.
	We denote by $F \to \prod_{i \in I} F(U_i)$ the map induced by the
	restriction morphisms $F(U) \to F(U_i)$.
	Then we define
	\begin{equation*}
	\begin{tikzcd}[row sep = 0ex
		,/tikz/column 1/.append style={anchor=base east}
		,/tikz/column 2/.append style={anchor=base west}]
		\mathrm{pr}_1^*\colon \prod_{i \in I} F(U_i) \arrow[r, "", rightarrow] &
		\prod_{i,j \in I \cross I} F( U_i \cross_{ U } U_j )
	\end{tikzcd}
	\end{equation*} 
	as the map sending $(a_i) \in \prod_i F(U_i)$ to
	$\mathrm{pr}_i^*(a_i) \in \prod_{i,j} F( U_i \cross_{ U } U_j )$,
	whose component in $F( U_i \cross_{ U } U_j )$ is given by $\mathrm{pr}_1^*(a_i)$,
	where $\mathrm{pr}_1\colon U_i \cross_{ U } U_j \to U_i$ is the projection on the first
	component.
	Analogously we define a morphism $\mathrm{pr}_2^*\colon \prod_i F(U_i) \to 
	\prod_{i,j} F( U_i \cross_{ U } U_j )$.
	Then the presheaf $F$ is a sheaf iff, for all $U \in \mathsf{C}$ and all coverings
	$\left\{ U_{ i } \to U \right\}_{ i \in I }$ in $\mathsf{C}$,
	the following diagram is an equalizer:
	\begin{equation*}
	\begin{tikzcd}
		0 \arrow[r, "", rightarrow] &
		F(U) \arrow[r, "", rightarrow] &
		\prod_{i \in I} F(U_i) 
		\arrow[r, "\mathrm{pr}_1^*", rightarrow, shift left = 0.5ex] 
		\arrow[r, "\mathrm{pr}_2^*"', rightarrow, shift right = 0.5ex] &
		\prod_{i,j \in I \cross I} F( U_i \cross_{ U } U_j )
	.\end{tikzcd}
	\end{equation*}
	
\end{rem}


Finally we can state a very important result due to Groehtendieck:
\begin{thm}[Grothendieck]
	A representable functor on $\mathsf{Sch}_{ S }$ is a sheaf in the {\em fpqc} topology.
	In particular it is also a sheaf in the étale and {\em fppf} topologies.
\end{thm}


\end{document}
